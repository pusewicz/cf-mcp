<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>CF::MCP - Cute Framework MCP Server</title>
  <style>
<%= css_content %>
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <h1><img src="/favicon.svg" alt="CF Logo" class="title-logo">CF::MCP <small style="font-size: 0.5em; color: #8b949e;">v<%= version %></small></h1>
  <p>MCP (Model Context Protocol) server for the <a href="https://github.com/RandyGaul/cute_framework">Cute Framework</a>, a C/C++ 2D game framework.</p>

  <div class="stats">
    <div class="stat">
      <div class="stat-value"><%= stats[:total] %></div>
      <div class="stat-label">Total Items</div>
    </div>
    <div class="stat">
      <div class="stat-value"><%= stats[:functions] %></div>
      <div class="stat-label">Functions</div>
    </div>
    <div class="stat">
      <div class="stat-value"><%= stats[:structs] %></div>
      <div class="stat-label">Structs</div>
    </div>
    <div class="stat">
      <div class="stat-value"><%= stats[:enums] %></div>
      <div class="stat-label">Enums</div>
    </div>
    <div class="stat">
      <div class="stat-value"><%= stats[:topics] %></div>
      <div class="stat-label">Topics</div>
    </div>
  </div>

  <h2>Server Info</h2>
  <table class="server-info">
    <tr>
      <th>Server Name</th>
      <td>cf-mcp</td>
    </tr>
    <tr>
      <th>Server Version</th>
      <td><%= version %></td>
    </tr>
    <tr>
      <th>Protocol Version</th>
      <td><%= protocol_version %></td>
    </tr>
  </table>

  <h2>Endpoints</h2>
  <div class="endpoint">
    <div class="endpoint-path">/http</div>
    <div class="endpoint-desc">MCP HTTP endpoint - for Claude Desktop and Claude Code</div>
  </div>

  <h2>Claude Desktop Setup</h2>
  <p>Remote MCP servers require a <strong>Pro, Max, Team, or Enterprise</strong> plan.</p>
  <ol>
    <li>Open Claude Desktop</li>
    <li>Go to <strong>Settings &rarr; Connectors</strong></li>
    <li>Add this URL as a remote MCP server:</li>
  </ol>
  <pre><code>https://cf-mcp.fly.dev/http</code></pre>

  <h2>Claude Code CLI Setup</h2>
  <pre><code>claude mcp add --transport http cf-mcp https://cf-mcp.fly.dev/http</code></pre>

  <h2>Available Tools</h2>
  <div class="tools">
    <% tools.each do |tool| %>
    <div class="tool">
      <div class="tool-name"><%= h(tool[:name]) %></div>
      <div class="tool-desc"><%= h(tool[:description]) %></div>
    </div>
    <% end %>
  </div>

  <h2>Tool Explorer</h2>
  <div id="tool-explorer-root"></div>

  <h2>Topics Explorer</h2>
  <p>Browse tutorial guides and documentation topics for Cute Framework.</p>
  <div id="topics-explorer-root"></div>

  <h2>Links</h2>
  <ul>
    <li><a href="https://github.com/pusewicz/cf-mcp">CF::MCP on GitHub</a></li>
    <li><a href="https://github.com/RandyGaul/cute_framework">Cute Framework</a></li>
    <li><a href="https://modelcontextprotocol.io">Model Context Protocol</a></li>
  </ul>

  <details class="changelog">
    <summary><h2 style="display: inline; cursor: pointer;">Changelog</h2></summary>
    <div id="changelog-content"></div>
  </details>

  <script type="module">
<%= js_content %>
  </script>
</body>
</html>
